---
export const partial = true;

const { _cloudflare_dev_toolbar_app, runtime } = Astro.locals as any;
const bindingNames = _cloudflare_dev_toolbar_app.types.get('ENV');

const bindings: Record<string, unknown> = {};
for (const key in runtime.env) {
	if (Object.prototype.hasOwnProperty.call(runtime.env, key)) {
		if (bindingNames.includes(key)) {
			bindings[key] = runtime.env[key];
		}
	}
}
---

<pre onclick="me(this)">
{JSON.stringify(bindings, null, 2)}
</pre>

<script is:inline>
	var me = function (element) {
		console.log('me');
	};
</script>
